<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Texas Aerial Robotics Documentation: Control_functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Texas Aerial Robotics Documentation
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__control__functions.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Control_functions</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcontrol__api__waypoint.html">control_api_waypoint</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga92292bc0da7dd2a58edf8e9aa10eb682"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__control__functions.html#ga92292bc0da7dd2a58edf8e9aa10eb682">set_heading</a> (float heading)</td></tr>
<tr class="separator:ga92292bc0da7dd2a58edf8e9aa10eb682"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab90a45d8b081ba329b9d0f886adbc2d5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__control__functions.html#gab90a45d8b081ba329b9d0f886adbc2d5">set_destination</a> (float x, float y, float z, float psi)</td></tr>
<tr class="separator:gab90a45d8b081ba329b9d0f886adbc2d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1921a30d419eb397f7e40875217b45d1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__control__functions.html#ga1921a30d419eb397f7e40875217b45d1">wait4connect</a> ()</td></tr>
<tr class="separator:ga1921a30d419eb397f7e40875217b45d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab6fe46f505ab9804b4ed98b96286a811"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__control__functions.html#gab6fe46f505ab9804b4ed98b96286a811">wait4start</a> ()</td></tr>
<tr class="separator:gab6fe46f505ab9804b4ed98b96286a811"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2a1100bb15673a9322c5be3bb8e9999f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__control__functions.html#ga2a1100bb15673a9322c5be3bb8e9999f">initialize_local_frame</a> ()</td></tr>
<tr class="separator:ga2a1100bb15673a9322c5be3bb8e9999f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac0aa671c99c09687515ec5bb8891c7d2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__control__functions.html#gac0aa671c99c09687515ec5bb8891c7d2">takeoff</a> (float takeoff_alt)</td></tr>
<tr class="separator:gac0aa671c99c09687515ec5bb8891c7d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga54abc3f6eae022a8710bc0c2e1c54fbe"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__control__functions.html#ga54abc3f6eae022a8710bc0c2e1c54fbe">check_waypoint_reached</a> ()</td></tr>
<tr class="separator:ga54abc3f6eae022a8710bc0c2e1c54fbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga52a11a139e56315de52d2ab439b0d203"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__control__functions.html#ga52a11a139e56315de52d2ab439b0d203">land</a> ()</td></tr>
<tr class="separator:ga52a11a139e56315de52d2ab439b0d203"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae693b071b5392f9253cdfc1f4f362fcc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__control__functions.html#gae693b071b5392f9253cdfc1f4f362fcc">init_publisher_subscriber</a> (ros::NodeHandle controlnode)</td></tr>
<tr class="separator:gae693b071b5392f9253cdfc1f4f362fcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>This module is designed to make high level control programming more simple. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga54abc3f6eae022a8710bc0c2e1c54fbe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga54abc3f6eae022a8710bc0c2e1c54fbe">&#9670;&nbsp;</a></span>check_waypoint_reached()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int check_waypoint_reached </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function returns an int of 1 or 0. THis function can be used to check when to request the next waypoint in the mission. </p><dl class="section return"><dt>Returns</dt><dd>1 - waypoint reached </dd>
<dd>
0 - waypoint not reached </dd></dl>

<p class="definition">Definition at line <a class="el" href="control__functions_8hpp_source.html#l00275">275</a> of file <a class="el" href="control__functions_8hpp_source.html">control_functions.hpp</a>.</p>

</div>
</div>
<a id="gae693b071b5392f9253cdfc1f4f362fcc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae693b071b5392f9253cdfc1f4f362fcc">&#9670;&nbsp;</a></span>init_publisher_subscriber()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int init_publisher_subscriber </td>
          <td>(</td>
          <td class="paramtype">ros::NodeHandle&#160;</td>
          <td class="paramname"><em>controlnode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function is called at the beginning of a program and will start of the communication links to the FCU. The function requires the program's ros nodehandle as an input </p><dl class="section return"><dt>Returns</dt><dd>n/a </dd></dl>

<p class="definition">Definition at line <a class="el" href="control__functions_8hpp_source.html#l00315">315</a> of file <a class="el" href="control__functions_8hpp_source.html">control_functions.hpp</a>.</p>

</div>
</div>
<a id="ga2a1100bb15673a9322c5be3bb8e9999f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2a1100bb15673a9322c5be3bb8e9999f">&#9670;&nbsp;</a></span>initialize_local_frame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int initialize_local_frame </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function will create a local reference frame based on the starting location of the drone. This is typically done right before takeoff. This reference frame is what all of the the set destination commands will be in reference to. </p><dl class="section return"><dt>Returns</dt><dd>0 - frame initialized </dd></dl>

<p class="definition">Definition at line <a class="el" href="control__functions_8hpp_source.html#l00198">198</a> of file <a class="el" href="control__functions_8hpp_source.html">control_functions.hpp</a>.</p>

</div>
</div>
<a id="ga52a11a139e56315de52d2ab439b0d203"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga52a11a139e56315de52d2ab439b0d203">&#9670;&nbsp;</a></span>land()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int land </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>this function changes the mode of the drone to land </p><dl class="section return"><dt>Returns</dt><dd>1 - mode change successful </dd>
<dd>
0 - mode change not successful </dd></dl>

<p class="definition">Definition at line <a class="el" href="control__functions_8hpp_source.html#l00298">298</a> of file <a class="el" href="control__functions_8hpp_source.html">control_functions.hpp</a>.</p>

</div>
</div>
<a id="gab90a45d8b081ba329b9d0f886adbc2d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab90a45d8b081ba329b9d0f886adbc2d5">&#9670;&nbsp;</a></span>set_destination()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void set_destination </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>z</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>psi</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function is used to command the drone to fly to a waypoint. These waypoints should be specified in the local reference frame. This is typically defined from the location the drone is launched. Psi is counter clockwise rotation following the drone’s reference frame defined by the x axis through the right side of the drone with the y axis through the front of the drone. </p><dl class="section return"><dt>Returns</dt><dd>n/a </dd></dl>

<p class="definition">Definition at line <a class="el" href="control__functions_8hpp_source.html#l00125">125</a> of file <a class="el" href="control__functions_8hpp_source.html">control_functions.hpp</a>.</p>

</div>
</div>
<a id="ga92292bc0da7dd2a58edf8e9aa10eb682"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga92292bc0da7dd2a58edf8e9aa10eb682">&#9670;&nbsp;</a></span>set_heading()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void set_heading </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>heading</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function is used to specify the drone’s heading in the local reference frame. Psi is a counter clockwise rotation following the drone’s reference frame defined by the x axis through the right side of the drone with the y axis through the front of the drone. </p><dl class="section return"><dt>Returns</dt><dd>n/a </dd></dl>

<p class="definition">Definition at line <a class="el" href="control__functions_8hpp_source.html#l00095">95</a> of file <a class="el" href="control__functions_8hpp_source.html">control_functions.hpp</a>.</p>

</div>
</div>
<a id="gac0aa671c99c09687515ec5bb8891c7d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac0aa671c99c09687515ec5bb8891c7d2">&#9670;&nbsp;</a></span>takeoff()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int takeoff </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>takeoff_alt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The takeoff function will arm the drone and put the drone in a hover above the initial position. </p><dl class="section return"><dt>Returns</dt><dd>0 - nominal takeoff </dd>
<dd>
-1 - failed to arm </dd>
<dd>
-2 - failed to takeoff </dd></dl>

<p class="definition">Definition at line <a class="el" href="control__functions_8hpp_source.html#l00228">228</a> of file <a class="el" href="control__functions_8hpp_source.html">control_functions.hpp</a>.</p>

</div>
</div>
<a id="ga1921a30d419eb397f7e40875217b45d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1921a30d419eb397f7e40875217b45d1">&#9670;&nbsp;</a></span>wait4connect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int wait4connect </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Wait for connect is a function that will hold the program until communication with the FCU is established. </p><dl class="section return"><dt>Returns</dt><dd>0 - connected to fcu </dd>
<dd>
-1 - failed to connect to drone </dd></dl>

<p class="definition">Definition at line <a class="el" href="control__functions_8hpp_source.html#l00150">150</a> of file <a class="el" href="control__functions_8hpp_source.html">control_functions.hpp</a>.</p>

</div>
</div>
<a id="gab6fe46f505ab9804b4ed98b96286a811"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab6fe46f505ab9804b4ed98b96286a811">&#9670;&nbsp;</a></span>wait4start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int wait4start </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Wait for strat will hold the program until the user signals the FCU to enther mode guided. This is typically done from a switch on the safety pilot’s remote or from the ground control station. </p><dl class="section return"><dt>Returns</dt><dd>0 - mission started </dd>
<dd>
-1 - failed to start mission </dd></dl>

<p class="definition">Definition at line <a class="el" href="control__functions_8hpp_source.html#l00176">176</a> of file <a class="el" href="control__functions_8hpp_source.html">control_functions.hpp</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.16 </li>
  </ul>
</div>
</body>
</html>
